<div class="row p-5 justify-content-center align-items-center gap-3">
  <div class="col-12 col-sm-6 col-md-4 col-lg-3 p-0" *ngFor="let item of gridItems">
    <div *ngIf="!item.modal; else showModal">
      <figure class="d-block m-auto">
        <a *ngIf="item.url" [href]="item.url" target="_blank" rel="noreferrer noopener">
          <img
            [src]="item.image.src"
            [alt]="item.image.alt"
            class="img-fluid d-block m-auto"
          />
        </a>

        <img
          *ngIf="!item.url"
          [src]="item.image.src"
          [alt]="item.image.alt"
          class="img-fluid d-block m-auto"
        />

        <figcaption
          *ngIf="item.image.caption"
          [innerHTML]="item.image.caption | sanitizeHtml"
          class="text-muted small text-italic text-center"
        ></figcaption>
      </figure>
    </div>

    <ng-template #showModal>
      <figure class="d-block m-auto">
        <img
          (click)="createModal(item.modal!)"
          [src]="item.image.src"
          [alt]="item.image.alt"
          class="cursor-pointer"
        />
        <figcaption
          *ngIf="item.image.caption"
          [innerHTML]="item.image.caption | sanitizeHtml"
          class="text-muted small text-italic text-center"
        ></figcaption>
      </figure>
    </ng-template>
  </div>
</div>

<app-modal
  [(isOpen)]="openModal"
  [image]="modal.image"
  [title]="modal.title"
  [text]="modal.text"
  [url]="modal.url"
></app-modal>
